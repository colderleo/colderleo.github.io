(window.webpackJsonp=window.webpackJsonp||[]).push([[123],{608:function(t,a,s){"use strict";s.r(a);var e=s(21),A=Object(e.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h2",{attrs:{id:"缓存一致性协议mesi"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#缓存一致性协议mesi"}},[t._v("#")]),t._v(" 缓存一致性协议MESI")]),t._v(" "),s("p",[t._v("参考： "),s("a",{attrs:{href:"https://zhuanlan.zhihu.com/p/123926004",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://zhuanlan.zhihu.com/p/123926004"),s("OutboundLink")],1)]),t._v(" "),s("p",[t._v("不同CPU对cache的读写是一致的，cache可以当做我们平时说的内存，通过缓存一致性协议保证一致。")]),t._v(" "),s("p",[t._v("不同cpu拥有各自的cache，cache读写的最小单位是cache line，一般是64字节。多个cache与内存之间的数据同步该怎么做？缓存一致性协议就是要解决这个问题，协议有多种，可以分为两类：“窥探（snooping）”协议和“基于目录的（directory-based）”协议，MESI协议属于一种“窥探协议“。")]),t._v(" "),s("p",[s("strong",[t._v("cache line的四种状态")]),t._v("：")]),t._v(" "),s("ul",[s("li",[t._v("Invalid，表明该cache line已失效，它要么已经不在cache中，要么它的内容已经过时。处于该状态下的cache line等同于它从来没被加载到cache中。")]),t._v(" "),s("li",[t._v("Shared，表明该cache line是内存中某一段数据的拷贝，处于该状态下的cache line只能被cpu读取，不能写入，因为此时还没有独占。不同cpu的cache line都可以拥有这段内存数据的拷贝。")]),t._v(" "),s("li",[t._v("Exclusive，和 Shared 状态一样，表明该cache line是内存中某一段数据的拷贝。区别在于，该cache line独占该内存地址，其他处理器的cache line不能同时持有它，如果其他处理器原本也持有同一cache line，那么它会马上变成“Invalid”状态。")]),t._v(" "),s("li",[t._v("Modified，表明该cache line已经被修改，cache line只有处于Exclusive状态才能被修改。此外，已修改cache line如果被丢弃或标记为Invalid，那么先要把它的内容回写到内存中。")])]),t._v(" "),s("p",[t._v("我们发现，cpu有读取数据的动作，有独占的动作，有独占后更新数据的动作，有更新数据之后回写内存的动作，根据”窥探协议“的规范，每个动作都需要通知到其他cpu，于是有以下的"),s("strong",[t._v("消息机制")]),t._v("：")]),t._v(" "),s("ul",[s("li",[t._v("Read，cpu发起读取数据请求，请求中包含需要读取的数据地址。")]),t._v(" "),s("li",[t._v("Read Response，作为Read消息的响应，该消息可能是内存响应的，也可能是某cpu响应的(比如该地址在某cpu cache Line中为Modified状态，则该cpu必须返回该地址的最新数据)。")]),t._v(" "),s("li",[t._v("Invalidate，cpu发起”我要独占一个cache line，其他cpu请失效对应的cache line“的消息，消息中包含了内存地址，所有的其它cpu需要将对应cache line置为Invalid状态。")]),t._v(" "),s("li",[t._v("Invalidate ACK，收到Invalidate消息的cpu在将对应cache line置为Invalid后，返回Invalid ACK。")]),t._v(" "),s("li",[t._v("Read Invalidate，相当于Read消息+Invalidate消息，即取得数据并且独占它，将收到一个Read Response和所有其它cpu的Invalidate ACK。")]),t._v(" "),s("li",[t._v("Write back，写回消息，即将状态为Modified的cache line写回到内存，通常在该行将被替换时使用。现代cpu cache基本都采用”写回(Write Back)”而非”直写(Write Through)”的方式。")])]),t._v(" "),s("p",[t._v("在MESI协议下工作即可保证各cpu之间的cache一致。不过cpu如果每次访问数据cache都经过MESI协议，太慢了，于是又增加了store buffer和invalid queue来加速。")]),t._v(" "),s("h2",{attrs:{id:"sotre-buffer和invalid-queue"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#sotre-buffer和invalid-queue"}},[t._v("#")]),t._v(" sotre buffer和invalid queue")]),t._v(" "),s("p",[t._v("参考： "),s("a",{attrs:{href:"https://zhuanlan.zhihu.com/p/125549632",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://zhuanlan.zhihu.com/p/125549632"),s("OutboundLink")],1)]),t._v(" "),s("h4",{attrs:{id:"store-buffer"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#store-buffer"}},[t._v("#")]),t._v(" store buffer")]),t._v(" "),s("p",[s("img",{attrs:{src:"data:image/jpeg;base64,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",alt:"img"}})]),t._v(" "),s("p",[t._v("每个cpu内部增加一个store buffer，"),s("strong",[t._v("写数据")]),t._v("的时候先写到store buffer里，其他cpu看不到。等需要的时候再写到cache line中，同时通知其他cpu，使该cache line的内容对其他cpu可见。")]),t._v(" "),s("blockquote",[s("p",[t._v("程序员可以手动增加 Store Barrior 来将数据从store buffer刷到cache line中，从而使该数据对其他线程可见。")])]),t._v(" "),s("h4",{attrs:{id:"invalid-queue"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#invalid-queue"}},[t._v("#")]),t._v(" invalid queue")]),t._v(" "),s("p",[t._v("但是仅有store buffer还不够，因为store buffer比较小，很容易满。当需要写到cache line的时候要通知其他cpu这个cache line  invalid了，然后等所有cpu回复invalid ack，才能继续往下走。其他cpu回复invalid ack之前要把对应的cache line状态改为invaid，这个操作比较耗时。怎么办呢，就是增加一个invalid queue。cpu在收到invalid消息时，把它放进invalid queue中，然后就回复invalid ack了，而invalid queue可以后续处理。")]),t._v(" "),s("blockquote",[s("p",[t._v("程序员可以手动增加 Load Barrier 将invalid queue中的数据读入cache line，从而获取其他线程对数据的修改。")])]),t._v(" "),s("h2",{attrs:{id:"编译器屏障和内存屏障"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#编译器屏障和内存屏障"}},[t._v("#")]),t._v(" 编译器屏障和内存屏障")]),t._v(" "),s("h4",{attrs:{id:"参考"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#参考"}},[t._v("#")]),t._v(" 参考：")]),t._v(" "),s("p",[s("a",{attrs:{href:"https://zhuanlan.zhihu.com/p/43526907",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://zhuanlan.zhihu.com/p/43526907"),s("OutboundLink")],1)]),t._v(" "),s("h4",{attrs:{id:"编译器屏障"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#编译器屏障"}},[t._v("#")]),t._v(" 编译器屏障")]),t._v(" "),s("p",[t._v("阻止编译器重排，保证编译程序时在优化屏障之前的指令不会在优化屏障之后执行，并且不可以从寄存器中取变量。\n（注意该指令只会对编译器产生影响，并不能阻值cpu乱序执行。下面有cpu内存屏障的说明）")]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v('#define barrier() __asm__ __volatile__("": : :"memory") \n')])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("h4",{attrs:{id:"cpu屏障"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#cpu屏障"}},[t._v("#")]),t._v(" cpu屏障")]),t._v(" "),s("p",[s("img",{attrs:{src:"data:image/jpeg;base64,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",alt:"img"}})]),t._v(" "),s("p",[t._v("Intel提供三种内存屏障指令：")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("sfence ，实现Store Barrior 会将store buffer中缓存的修改刷入L1 cache中，使得其他cpu核可以观察到这些修改，而且之后的写操作不会被调度到之前，即sfence之前的写操作一定在sfence完成且全局可见；")])]),t._v(" "),s("li",[s("p",[t._v("lfence ，实现Load Barrior 会将invalidate queue失效，强制读取入L1 cache中，而且lfence之后的读操作不会被调度到之前，即lfence之前的读操作一定在lfence完成（并未规定全局可见性）；")])]),t._v(" "),s("li",[s("p",[t._v("mfence ，实现Full Barrior 同时刷新store buffer和invalidate queue，保证了mfence前后的读写操作的顺序，同时要求mfence之后写操作结果全局可见之前，mfence之前写操作结果全局可见；")])]),t._v(" "),s("li",[s("p",[t._v("lock 用来修饰当前指令操作的内存只能由当前CPU使用，若指令不操作内存仍然有用，因为这个修饰会让指令操作本身原子化，而且自带Full Barrior效果；还有指令比如IO操作的指令、exch等原子交换的指令，任何带有lock前缀的指令以及CPUID等指令都有内存屏障的作用。")])])]),t._v(" "),s("p",[t._v("GNU中的三种内存屏障定义方法，结合了编译器屏障和三种CPU屏障指令：")]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v('#define lfence() __asm__ __volatile__("lfence": : :"memory") \n#define sfence() __asm__ __volatile__("sfence": : :"memory") \n#define mfence() __asm__ __volatile__("mfence": : :"memory") \n')])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br")])]),s("p",[t._v("C++11为内存屏障提供了专门的函数std::atomic_thread_fence，方便移植统一行为而且可以配合内存模型进行设置，比如实现Acquire-release语义。原子变量的使用相当于附带了该功能。")]),t._v(" "),s("div",{staticClass:"language-c line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-c"}},[s("code",[s("span",{pre:!0,attrs:{class:"token macro property"}},[s("span",{pre:!0,attrs:{class:"token directive-hash"}},[t._v("#")]),s("span",{pre:!0,attrs:{class:"token directive keyword"}},[t._v("include")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("<atomic>")])]),t._v("\nstd"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("::")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("atomic_thread_fence")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("std"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("::")]),t._v("memory_order_relaxed"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nstd"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("::")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("atomic_thread_fence")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("std"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("::")]),t._v("memory_order_acquire"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nstd"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("::")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("atomic_thread_fence")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("std"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("::")]),t._v("memory_order_release"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nstd"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("::")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("atomic_thread_fence")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("std"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("::")]),t._v("memory_order_seq_cst"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br")])]),s("h4",{attrs:{id:"x86上简单总结"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#x86上简单总结"}},[t._v("#")]),t._v(" x86上简单总结")]),t._v(" "),s("p",[t._v("读写内存顺序有4种组合: LoadLoad(对应C++11的Acquire memory order) StoreStore(对应C++11的Release memory order)、 LoadStore、 StoreLoad。对于x86来说，只有StoreLoad才可能出现问题，另外三种都是保证顺序的。")]),t._v(" "),s("p",[t._v("因此对于编译器屏障，只需要用std::atomic_thread_fence(std::memory_order_relaxed)\n对于cpu屏障，只需要用std::atomic_thread_fence(std::memory_order_seq_cst)")]),t._v(" "),s("h2",{attrs:{id:"c-memory-order"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#c-memory-order"}},[t._v("#")]),t._v(" C++ Memory Order")]),t._v(" "),s("h4",{attrs:{id:"参考-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#参考-2"}},[t._v("#")]),t._v(" 参考")]),t._v(" "),s("p",[t._v("如何理解 C++11 的六种 memory order： "),s("a",{attrs:{href:"https://www.zhihu.com/question/24301047/answer/1193956492",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://www.zhihu.com/question/24301047/answer/1193956492"),s("OutboundLink")],1)]),t._v(" "),s("h4",{attrs:{id:"什么是原子操作、什么是memory-order"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#什么是原子操作、什么是memory-order"}},[t._v("#")]),t._v(" 什么是原子操作、什么是Memory Order")]),t._v(" "),s("p",[s("strong",[t._v("原子操作就是对一个内存上变量（或者叫左值）的读取-变更-存储（load-add-store）作为一个整体一次完成。")]),t._v(" （即上文中的从cache line读写是一个整体）")]),t._v(" "),s("p",[t._v("各种memory order是对本线程上下文的约束（包括普通变量）。对于relaxed操作，就是只有自身是atomic，不约束上下文。")]),t._v(" "),s("p",[t._v("比如 memory_order_release:")]),t._v(" "),s("div",{staticClass:"language-cpp line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-cpp"}},[s("code",[t._v("atomic"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" a"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\na"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("store")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" memory_order_release"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 等同于下面的操作 再加一个编译器屏障：")]),t._v("\na"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("store")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" memory_order_relaxed"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nstd"),s("span",{pre:!0,attrs:{class:"token double-colon punctuation"}},[t._v("::")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("atomic_thread_fence")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("std"),s("span",{pre:!0,attrs:{class:"token double-colon punctuation"}},[t._v("::")]),t._v("memory_order_release"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br")])]),s("p",[t._v("其效果是，把cpu的 store buffer 里面的内容 release 到cache中，让其他线程可以看到。（主要是release上下文中的普通变量，因为atomic变量总会release）")]),t._v(" "),s("h2",{attrs:{id:"读写关系举例"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#读写关系举例"}},[t._v("#")]),t._v(" 读写关系举例")]),t._v(" "),s("p",[t._v("C++里的memory order是用来指定原子操作（atomic operation）和同线程内其他非原子操作之间的执行顺序的。")]),t._v(" "),s("h4",{attrs:{id:"sequential-consistency"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#sequential-consistency"}},[t._v("#")]),t._v(" Sequential Consistency")]),t._v(" "),s("p",[s("code",[t._v("memory_order_seq_cst")]),t._v("，即顺序一致性模型。")]),t._v(" "),s("h4",{attrs:{id:"acquire-release-模式"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#acquire-release-模式"}},[t._v("#")]),t._v(" Acquire-Release 模式")]),t._v(" "),s("p",[s("code",[t._v("memory_order_release")]),t._v("前面不会被reorder到本句之后；"),s("code",[t._v("memory_order_acquire")]),t._v("之后的代码不会被reorder到本句之前；"),s("code",[t._v("memory_order_acq_rel")]),t._v("同时包含acquire和release标志。")]),t._v(" "),s("p",[t._v("对x86来说，这两种内存序都是自动保证的，用"),s("code",[t._v("memory_order_relaxed")]),t._v("做一个编译器屏障就可以了。对Arm则需要使用acquire和release做保障。")]),t._v(" "),s("div",{staticClass:"language-cpp line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-cpp"}},[s("code",[s("span",{pre:!0,attrs:{class:"token macro property"}},[s("span",{pre:!0,attrs:{class:"token directive-hash"}},[t._v("#")]),s("span",{pre:!0,attrs:{class:"token directive keyword"}},[t._v("include")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("<thread>")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token macro property"}},[s("span",{pre:!0,attrs:{class:"token directive-hash"}},[t._v("#")]),s("span",{pre:!0,attrs:{class:"token directive keyword"}},[t._v("include")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("<chrono>")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token macro property"}},[s("span",{pre:!0,attrs:{class:"token directive-hash"}},[t._v("#")]),s("span",{pre:!0,attrs:{class:"token directive keyword"}},[t._v("include")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("<mutex>")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token macro property"}},[s("span",{pre:!0,attrs:{class:"token directive-hash"}},[t._v("#")]),s("span",{pre:!0,attrs:{class:"token directive keyword"}},[t._v("include")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("<thread>")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token macro property"}},[s("span",{pre:!0,attrs:{class:"token directive-hash"}},[t._v("#")]),s("span",{pre:!0,attrs:{class:"token directive keyword"}},[t._v("include")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("<assert.h>")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token macro property"}},[s("span",{pre:!0,attrs:{class:"token directive-hash"}},[t._v("#")]),s("span",{pre:!0,attrs:{class:"token directive keyword"}},[t._v("include")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("<atomic>")])]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" a"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" b"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nstd"),s("span",{pre:!0,attrs:{class:"token double-colon punctuation"}},[t._v("::")]),t._v("atomic"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" s "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("t1_fun")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    a "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    s"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("store")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("9")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" std"),s("span",{pre:!0,attrs:{class:"token double-colon punctuation"}},[t._v("::")]),t._v("memory_order_release"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//除了s本身store， 上文中a的修改也被release到cache(memory)中")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("t2_fun")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("while")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("s"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("load")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("std"),s("span",{pre:!0,attrs:{class:"token double-colon punctuation"}},[t._v("::")]),t._v("memory_order_acquire"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("9")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("continue")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//除了读取s， 也从cache(memory)读取a的值。")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("assert")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("a "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//一定成功")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("main")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    std"),s("span",{pre:!0,attrs:{class:"token double-colon punctuation"}},[t._v("::")]),t._v("thread "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("t1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("t1_fun"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    std"),s("span",{pre:!0,attrs:{class:"token double-colon punctuation"}},[t._v("::")]),t._v("thread "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("t2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("t2_fun"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    t1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("join")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    t2"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("join")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br"),s("span",{staticClass:"line-number"},[t._v("17")]),s("br"),s("span",{staticClass:"line-number"},[t._v("18")]),s("br"),s("span",{staticClass:"line-number"},[t._v("19")]),s("br"),s("span",{staticClass:"line-number"},[t._v("20")]),s("br"),s("span",{staticClass:"line-number"},[t._v("21")]),s("br"),s("span",{staticClass:"line-number"},[t._v("22")]),s("br"),s("span",{staticClass:"line-number"},[t._v("23")]),s("br"),s("span",{staticClass:"line-number"},[t._v("24")]),s("br"),s("span",{staticClass:"line-number"},[t._v("25")]),s("br"),s("span",{staticClass:"line-number"},[t._v("26")]),s("br")])]),s("h4",{attrs:{id:"relaxed模式"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#relaxed模式"}},[t._v("#")]),t._v(" Relaxed模式")]),t._v(" "),s("p",[t._v("松散的，不约束上下文其他变量的重排。对于一个"),s("code",[t._v("atomic<int> a;")]),t._v(" relaxed是它对别人relaxd，对自己是atomic的，一个atomic操作包括从cache line中读取、修改、写入这一套是不被分割的。")]),t._v(" "),s("p",[t._v("有文章说  “memory_order_relaxed: 只保证当前操作的原子性，不考虑线程间的同步，其他线程可能读到新值，也可能读到旧值。比如 C++ shared_ptr 里的引用计数，我们只关心当前的应用数量，而不关心谁在引用谁在解引用。”  这个说法有问题。一个atomic变量写时用relaxed，其他线程中读或者修改时会读到新值，因为atomic relax写时会写到cache line，另一个线程用atomic读时也会从cache line读。")]),t._v(" "),s("h4",{attrs:{id:"release-consume-模式"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#release-consume-模式"}},[t._v("#")]),t._v(" Release-Consume 模式")]),t._v(" "),s("p",[t._v("参考: "),s("a",{attrs:{href:"https://blog.csdn.net/netyeaxi/article/details/80718781",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://blog.csdn.net/netyeaxi/article/details/80718781"),s("OutboundLink")],1)]),t._v(" "),s("p",[s("code",[t._v("memory_order_consume")]),t._v("，可以被安全的替换为"),s("code",[t._v("memory_order_acquire")]),t._v("。 在一个线程release后，另一个线程可以通过consume获取。与acquire不同的是，它只获取与该原子变量有相关依赖的变量。")]),t._v(" "),s("p",[t._v("然而实际上gcc貌似并没有实现该特性，所以没有必要的话先使用"),s("code",[t._v("memory_order_acquire")]),t._v("吧。另外x86上memory_order_acquire是自动保证的，用relaxed就可以。")]),t._v(" "),s("h4",{attrs:{id:"intel-x86-memory-order"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#intel-x86-memory-order"}},[t._v("#")]),t._v(" intel x86 Memory Order")]),t._v(" "),s("p",[t._v("评论里有很多关于"),s("strong",[t._v("x86内存模型")]),t._v("的指正，放在这里：（英特尔的官方文档可查）")]),t._v(" "),s("blockquote",[s("p",[t._v("Loads are not reordered with other loads.Stores are not reordered with other stores.Stores are not reordered with older loads.")])]),t._v(" "),s("p",[t._v("然后最重要的：")]),t._v(" "),s("blockquote",[s("p",[t._v("Loads may be reordered with older stores to different locations.")])]),t._v(" "),s("p",[t._v("因为 store-load 可以被重排，所以x86不是顺序一致。但是因为其他三种读写顺序不能被重排，所以x86是 acquire/release 语义。")]),t._v(" "),s("p",[t._v("aquire语义：load 之后的读写操作无法被重排至 load 之前。即 load-load, load-store 不能被重排。")]),t._v(" "),s("p",[t._v("release语义：store 之前的读写操作无法被重排至 store 之后。即 load-store, store-store 不能被重排。")]),t._v(" "),s("p",[t._v("最简单的试试 relaxed ordering 的方法就是拿出手机。写个小程序，故意留个 race condition，然后放到 iPhone 或者安卓手机上调，不用 release -- acquire 保准出错。然而这种 bug 你在 x86 的 host 机上是调不出来的，"),s("strong",[t._v("即便拿模拟器也调不出来")]),t._v("。")]),t._v(" "),s("p",[t._v("（貌似x86的Sotre Buffer是FIFO，所以store-store不能被重排）")]),t._v(" "),s("h2",{attrs:{id:"常见内存模型-类似于设计模式"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#常见内存模型-类似于设计模式"}},[t._v("#")]),t._v(" 常见内存模型（类似于设计模式）")]),t._v(" "),s("ul",[s("li",[t._v("参考: "),s("a",{attrs:{href:"https://www.cnblogs.com/miaolong/p/12574481.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://www.cnblogs.com/miaolong/p/12574481.html"),s("OutboundLink")],1)]),t._v(" "),s("li",[t._v("Sequential Consistency 顺序一致性，简称SC")]),t._v(" "),s("li",[t._v("Total Store Ordering, 全存储排序，简称TSO")]),t._v(" "),s("li",[t._v("Relaxed memory models，松弛型内存模型")]),t._v(" "),s("li",[t._v("还有一些其他的各种各样的内存模型： Processor Consistency、Partial Consistency Ordering (PSO)、Weak Consistency、Release Consistency、Data-Race-Free-0 等待")])]),t._v(" "),s("h2",{attrs:{id:"c内嵌汇编实现cpu内存屏障-x86"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#c内嵌汇编实现cpu内存屏障-x86"}},[t._v("#")]),t._v(" C内嵌汇编实现cpu内存屏障（x86）")]),t._v(" "),s("p",[t._v("c语言内嵌汇编的语法格式：")]),t._v(" "),s("div",{staticClass:"language-cpp line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-cpp"}},[s("code",[t._v("__asm__　"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("__volatile__")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Instruction List"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" Output "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" Input "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" Clobber"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("Modify"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("p",[t._v("cpu内存屏障的实现方法:")]),t._v(" "),s("div",{staticClass:"language-cpp line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-cpp"}},[s("code",[s("span",{pre:!0,attrs:{class:"token macro property"}},[s("span",{pre:!0,attrs:{class:"token directive-hash"}},[t._v("#")]),s("span",{pre:!0,attrs:{class:"token directive keyword"}},[t._v("define")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token macro-name function"}},[t._v("barrier")]),s("span",{pre:!0,attrs:{class:"token expression"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("do")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" __asm__ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("__volatile__")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")])]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"lock"')]),s("span",{pre:!0,attrs:{class:"token expression"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" addl $"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v("esp"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")])]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('" ::: "')]),s("span",{pre:!0,attrs:{class:"token expression"}},[t._v("cc")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('", "')]),s("span",{pre:!0,attrs:{class:"token expression"}},[t._v('memory"'),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("while")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")])])]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("ul",[s("li",[s("code",[t._v("lock")]),t._v("会对被指令操作的数据地址上总线锁或缓存锁，并使该指令的执行变成原子操作，并且前后的指令都不能越过lock重排（阻止cpu乱序执行）；")]),t._v(" "),s("li",[s("code",[t._v("addl $0 0(%%esp)")]),t._v("的含义是将栈顶加0，相当于空指令，这是因为lock语法不允许在后面写空指令；")]),t._v(" "),s("li",[s("code",[t._v('"cc", "memory"')]),t._v(" cc表示修改了寄存器；memory表示修改了内存；")])]),t._v(" "),s("p",[t._v("汇总")]),t._v(" "),s("div",{staticClass:"language-cpp line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-cpp"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//编译器屏障，防止编译器重排优化，（只在编译器层面，并不会对cpu的执行有影响）。")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token macro property"}},[s("span",{pre:!0,attrs:{class:"token directive-hash"}},[t._v("#")]),s("span",{pre:!0,attrs:{class:"token directive keyword"}},[t._v("define")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token macro-name function"}},[t._v("mem_barrier")]),s("span",{pre:!0,attrs:{class:"token expression"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("do")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" __asm__ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("__volatile__")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")])]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),s("span",{pre:!0,attrs:{class:"token expression"}},[s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")])]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"memory"')]),s("span",{pre:!0,attrs:{class:"token expression"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("while")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")])])]),t._v("\n\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//cpu内存屏障， 防止cpu乱序，兼具编译器屏障的作用。")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token macro property"}},[s("span",{pre:!0,attrs:{class:"token directive-hash"}},[t._v("#")]),s("span",{pre:!0,attrs:{class:"token directive keyword"}},[t._v("define")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token macro-name function"}},[t._v("cpu_barrier")]),s("span",{pre:!0,attrs:{class:"token expression"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("do")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" __asm__ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("__volatile__")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")])]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"lock"')]),s("span",{pre:!0,attrs:{class:"token expression"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" addl $"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v("esp"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")])]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('" ::: "')]),s("span",{pre:!0,attrs:{class:"token expression"}},[t._v("cc")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('", "')]),s("span",{pre:!0,attrs:{class:"token expression"}},[t._v('memory"'),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("while")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")])])]),t._v("\n\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//读写某个变量的内存。  =表示输出， m表示memory中的变量（只在编译器层面防止重排）")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token macro property"}},[s("span",{pre:!0,attrs:{class:"token directive-hash"}},[t._v("#")]),s("span",{pre:!0,attrs:{class:"token directive keyword"}},[t._v("define")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token macro-name function"}},[t._v("memory_read")]),s("span",{pre:!0,attrs:{class:"token expression"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("var"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("do")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" __asm__ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("__volatile__")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")])]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token expression"}},[s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" ")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"=m"')]),s("span",{pre:!0,attrs:{class:"token expression"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("var"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("while")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")])])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token macro property"}},[s("span",{pre:!0,attrs:{class:"token directive-hash"}},[t._v("#")]),s("span",{pre:!0,attrs:{class:"token directive keyword"}},[t._v("define")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token macro-name function"}},[t._v("memory_write")]),s("span",{pre:!0,attrs:{class:"token expression"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("var"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("do")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" __asm__ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("__volatile__")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")])]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token expression"}},[s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" ")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"m"')]),s("span",{pre:!0,attrs:{class:"token expression"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("var"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("while")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")])])]),t._v("\n\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//原子操作, 防止多线程竞争")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("static")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("inline")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("atomic64_add")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("origin"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" dst"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" value"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    __asm__ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("__volatile__")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"lock"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" addl $"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v("esp"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v('" \n        '),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"=r"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("origin"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"+m"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("dst"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" 未完待续\n        "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"cc"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"memory"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br"),s("span",{staticClass:"line-number"},[t._v("17")]),s("br"),s("span",{staticClass:"line-number"},[t._v("18")]),s("br"),s("span",{staticClass:"line-number"},[t._v("19")]),s("br"),s("span",{staticClass:"line-number"},[t._v("20")]),s("br"),s("span",{staticClass:"line-number"},[t._v("21")]),s("br"),s("span",{staticClass:"line-number"},[t._v("22")]),s("br")])]),s("h2",{attrs:{id:"测试上面的-memory-read-和-memory-write"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#测试上面的-memory-read-和-memory-write"}},[t._v("#")]),t._v(" 测试上面的 memory_read 和 memory_write:")]),t._v(" "),s("p",[t._v("#define memory_read(var) do { "),s("strong",[t._v("asm")]),t._v(" "),s("strong",[t._v("volatile")]),t._v('("" : "=m"(var) : : ); } while(0)\n#define memory_write(var)  do { '),s("strong",[t._v("asm")]),t._v(" "),s("strong",[t._v("volatile")]),t._v('("" :  : "m"(var) : ); } while(0)')]),t._v(" "),s("h4",{attrs:{id:"c代码"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#c代码"}},[t._v("#")]),t._v(" c代码")]),t._v(" "),s("p",[t._v("example1.c：")]),t._v(" "),s("div",{staticClass:"language-cpp line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-cpp"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("main")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" __argc"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("char")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" __argv"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" __p "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("__argc"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("__p"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("9999")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//__asm__ volatile("":::"memory");')]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("__p"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("9999")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("__p"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br")])]),s("p",[t._v("O3编译， 并查看汇编结果：")]),t._v(" "),s("div",{staticClass:"language-sh line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[t._v("gcc -O3 -S example1.c\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("cat")]),t._v(" example1.s\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br")])]),s("h4",{attrs:{id:"不带编译器屏障"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#不带编译器屏障"}},[t._v("#")]),t._v(" 不带编译器屏障")]),t._v(" "),s("div",{staticClass:"language-cpp line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-cpp"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//__asm__ volatile("":::"memory");')]),t._v("\n\nmain"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("LFB0"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("cfi_startproc\n        movslq  "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v("edi"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v("rdi\n        movl    $"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v("eax\n        movl    $"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("9999")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v("rdi"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        ret\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("cfi_endproc\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br")])]),s("h4",{attrs:{id:"带编译器屏障"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#带编译器屏障"}},[t._v("#")]),t._v(" 带编译器屏障")]),t._v(" "),s("div",{staticClass:"language-cpp line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-cpp"}},[s("code",[t._v("__asm__ "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("volatile")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),s("span",{pre:!0,attrs:{class:"token double-colon punctuation"}},[t._v("::")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"memory"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n$ cat example1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("s\nmain"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("LFB0"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("cfi_startproc\n        movslq  "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v("edi"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v("rdi\n        movl    $"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("9999")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v("rdi"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("movl")]),t._v("    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v("rdi"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v("eax\n        movl    $"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v("edx\n        cmpl    $"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("9999")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v("eax\n        cmove   "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v("edx"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v("eax\n        ret\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("cfi_endproc\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br")])]),s("h4",{attrs:{id:"带上memory-read-和编译器屏障效果一样"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#带上memory-read-和编译器屏障效果一样"}},[t._v("#")]),t._v(" 带上memory_read，和编译器屏障效果一样")]),t._v(" "),s("div",{staticClass:"language-cpp line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-cpp"}},[s("code",[t._v("__asm__ "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("volatile")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"=m"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("__p"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token double-colon punctuation"}},[t._v("::")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nmain"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("LFB0"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("cfi_startproc\n        movslq  "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v("edi"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v("rdi\n        "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("movl")]),t._v("    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v("rdi"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v("eax\n        movl    $"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v("edx\n        cmpl    $"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("9999")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v("eax\n        cmove   "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v("edx"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v("eax\n        ret\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("cfi_endproc\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br")])]),s("h4",{attrs:{id:"带上memory-write-和不带编译器屏障一样-没效果"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#带上memory-write-和不带编译器屏障一样-没效果"}},[t._v("#")]),t._v(" 带上memory_write，和不带编译器屏障一样，没效果")]),t._v(" "),s("div",{staticClass:"language-cpp line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-cpp"}},[s("code",[t._v("__asm__ "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("volatile")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),s("span",{pre:!0,attrs:{class:"token double-colon punctuation"}},[t._v("::")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"m"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("__p"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nmain"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("LFB0"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("cfi_startproc\n        movslq  "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v("edi"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v("rdi\n        movl    $"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("9999")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v("rdi"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        movl    $"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v("eax\n        ret\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("cfi_endproc\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br")])])])}),[],!1,null,null,null);a.default=A.exports}}]);