(window.webpackJsonp=window.webpackJsonp||[]).push([[303],{784:function(s,a,t){"use strict";t.r(a);var n=t(21),e=Object(n.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("p",[s._v("想把windows上的本地项目文件夹实时同步到linux上，可以用以下三种方法。")]),s._v(" "),t("h2",{attrs:{id:"一、idea自动上传-推荐"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#一、idea自动上传-推荐"}},[s._v("#")]),s._v(" 一、idea自动上传（推荐）")]),s._v(" "),t("p",[s._v("https://www.rms360.top/2019/03/27/%E5%B7%A5%E5%85%B7%E4%BD%BF%E7%94%A8/idea%E8%BF%9C%E7%A8%8B%E4%BB%A3%E7%A0%81%E5%AE%9E%E6%97%B6%E5%90%8C%E6%AD%A5/")]),s._v(" "),t("h4",{attrs:{id:"前言"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#前言"}},[s._v("#")]),s._v(" 前言")]),s._v(" "),t("p",[s._v("开发时一般的平台都是windows，但windows对开发极其不友好，一般都会在本地开启虚拟机，安装上linux环境进行项目的部署测试。下面介绍一种windows主机与linux虚拟机代码同步的方法。")]),s._v(" "),t("h4",{attrs:{id:"前置条件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#前置条件"}},[s._v("#")]),s._v(" 前置条件")]),s._v(" "),t("p",[s._v("在windows与linux中都有着同一份代码。")]),s._v(" "),t("h4",{attrs:{id:"配置步骤"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#配置步骤"}},[s._v("#")]),s._v(" 配置步骤")]),s._v(" "),t("h4",{attrs:{id:"_1、打开windows主机上的idea-选择tools-deployment-configuration"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1、打开windows主机上的idea-选择tools-deployment-configuration"}},[s._v("#")]),s._v(" 1、打开windows主机上的idea，选择tools->deployment->configuration")]),s._v(" "),t("p",[s._v("选择sftp连接。sftp和ssh使用同样的用户名密码和端口号。端口号默认是22，但是为了安全起见可能被修改成其他端口。")]),s._v(" "),t("h4",{attrs:{id:"_2、点击右上方三个点-新建一个连接"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2、点击右上方三个点-新建一个连接"}},[s._v("#")]),s._v(" 2、点击右上方三个点，新建一个连接")]),s._v(" "),t("ol",[t("li",[s._v("连接类型：sftp")]),s._v(" "),t("li",[s._v("依次填写虚拟机信息")]),s._v(" "),t("li",[s._v("root path项选中linux虚拟机中的项目位置")]),s._v(" "),t("li",[s._v("打开mapping面板")]),s._v(" "),t("li",[s._v("选择deployment path为根路径/")]),s._v(" "),t("li",[s._v("在excluded paths 添加要排除的目录（我觉得只选本地的就可以）")]),s._v(" "),t("li",[s._v("确定保存")])]),s._v(" "),t("h4",{attrs:{id:"_3、选择tools-deployment-auto-upload使其处于开启状态"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3、选择tools-deployment-auto-upload使其处于开启状态"}},[s._v("#")]),s._v(" 3、选择tools->deployment—>auto upload使其处于开启状态")]),s._v(" "),t("p",[s._v("此时，在window主机对项目所做的任何修改一旦被保存都会被实时推送到虚拟机中。一旦在linux虚拟机中项目功能验证通过，开始推送到git远程仓库中。")]),s._v(" "),t("p",[s._v("注\n该方法可以避免由于windows系统所带来的一些麻烦，同时能利用windows图形化优势。当然，有钱的话直接买mac更合适。")]),s._v(" "),t("p",[s._v("该方法同样适用于远程服务器，并且所有的jetbrains家族的开发工具都支持该操作。")]),s._v(" "),t("h4",{attrs:{id:"配置远程解释器-调试"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#配置远程解释器-调试"}},[s._v("#")]),s._v(" 配置远程解释器，调试")]),s._v(" "),t("p",[s._v("这个还没做。\nhttps://blog.csdn.net/lishanlu136/article/details/82683641")]),s._v(" "),t("h2",{attrs:{id:"二、winscp的实时文件夹同步-不用idea时推荐该方法"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#二、winscp的实时文件夹同步-不用idea时推荐该方法"}},[s._v("#")]),s._v(" 二、winscp的实时文件夹同步（不用idea时推荐该方法）")]),s._v(" "),t("p",[s._v("用第三种samba挂载文件的方法将linux上的文件夹挂载到windows上之后，用idea直接打开，但是因为网速太差，idea中修改文件后保存非常卡，不太好用。后来使用了winscp的同步功能：")]),s._v(" "),t("p",[s._v("winscp左边是windows的目录，右边是linux的目录，先把linux上的工程拷到windows上，然后在winscp中两边同时打开，再点主界面上的同步按钮（第二个是从windows同步到linux）。然后winscp会弹出一个监控窗口，当修改本地文件时，winscp会监控到文件被修改，然后立即将修改的文件上传至linux。")]),s._v(" "),t("p",[s._v("(开始的时候有个奇怪的现象，就是winscp可以连上linux也可以读取，但是文件修改不了，后来发现linux项目文件夹下有个.user.ini文件，这个文件rm删不掉，最后用 "),t("code",[s._v("chattr -i .user.ini")]),s._v("解除锁定后删掉了。参考 https://www.landui.com/help/show-4304.html ，再后面winscp就可以正常写入了。)")]),s._v(" "),t("p",[s._v("winscp同步的时候，一直开着监控窗口。它可以设置排除哪些文件或文件夹不同步。监控窗口，点“传输设置，(文件掩码旁边的)编辑”，进入编辑文件掩码窗口。在里面输入不想同步的文件夹，如``.idea"),t("code"),s._v("runtime`，还可以在传输设置界面勾选==不同步隐藏文件==，非常方便。另外还能把传输设置保存为预设方案，下次直接用。")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://raw.githubusercontent.com/cvster/pic/master/img/winscp_sync_idea3.png",alt:""}})]),s._v(" "),t("p",[s._v("按照该图设置生成的掩码为：")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("| *_tmp_*; application/.htaccess; .idea/; runtime/; public/\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h1",{attrs:{id:"三、使用samba将linux文件夹挂载到windows下-映射网络驱动器-比较慢"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#三、使用samba将linux文件夹挂载到windows下-映射网络驱动器-比较慢"}},[s._v("#")]),s._v(" 三、使用samba将linux文件夹挂载到windows下-映射网络驱动器（比较慢）")]),s._v(" "),t("p",[s._v("http://blog.chinaunix.net/uid-29281850-id-5192260.html")]),s._v(" "),t("p",[s._v("这篇文章写得很好，不过它设置用户名密码的部分不是很清楚。")]),s._v(" "),t("p",[s._v("https://baijiahao.baidu.com/s?id=1619078525576466832&wfr=spider&for=pc")]),s._v(" "),t("p",[s._v("这篇文章详细讲了samba怎么设置用户名密码。")]),s._v(" "),t("h2",{attrs:{id:"linux上安装samba"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#linux上安装samba"}},[s._v("#")]),s._v(" linux上安装samba")]),s._v(" "),t("ul",[t("li",[t("p",[s._v("使用root登录（ubuntu的话，使用sudo操作） ，然后 执行："),t("code",[s._v("yum install samba")])])]),s._v(" "),t("li",[t("p",[s._v("创建一个linux用户，用户名设置为samba（也可以设置为别的）"),t("code",[s._v("useradd samba")]),s._v(" 。这里不需要设置密码")])]),s._v(" "),t("li",[t("p",[s._v("使用samba的命令创建一个同名的用户："),t("code",[s._v("pdbedit -a -u samba")]),s._v(" 该命令会提示输入密码。")])])]),s._v(" "),t("h2",{attrs:{id:"设置共享文件夹"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#设置共享文件夹"}},[s._v("#")]),s._v(" 设置共享文件夹")]),s._v(" "),t("ul",[t("li",[s._v("假设要共享的文件夹为 /www/wwwroot，修改其权限为777")])]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("chmod")]),s._v(" -R "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("777")]),s._v(" /mnt/share\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("这里-R表示将其子目录的权限也都递归地改为777")]),s._v(" "),t("ul",[t("li",[t("p",[s._v("修改smb.conf配置文件，在smb.conf末尾添加一段配置，用于共享上面的文件夹。")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("vi /etc/samba/smb.conf\n\n添加下面的代码：\n[wwwroot]\n    comment = Samba's service #这句是注释，可以不要\n    path = /www/wwwroot\n    public = no\n    writable = yes\n    valid users = samba\n    write list = samba\n\n\n[wwwroot]是共享名，在windows访问的时候，显示文件夹名称为wwroot\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br")])])]),s._v(" "),t("li",[t("p",[s._v("关闭selinux。先查看selinux是否开启了："),t("code",[s._v("getenforce")]),s._v("。如果是Disabled，就表明没开，如果开了，那就关闭它：网上找永久关闭的方法。（不关闭可能会出现只能访问目录，无法访问文件的问题）")])]),s._v(" "),t("li",[t("p",[s._v("启动samba服务：")]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[s._v("systemctl "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("enable")]),s._v(" smb.service\nsystemctl "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("enable")]),s._v(" nmb.service\nsystemctl restart smb.service\nsystemctl restart nmb.service\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])])]),s._v(" "),t("li",[t("p",[s._v("设置samba网络通过防火墙 （如果使用了阿里云服务器，还需要到管理页面开放对应的端口）")]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#下面的等号两边最好不要加空格")]),s._v("\nfirewall-cmd --permanent --zone"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("public --add-service"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("samba\nfirewall-cmd --reload \n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])])])]),s._v(" "),t("h2",{attrs:{id:"通过window挂载share文件夹"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#通过window挂载share文件夹"}},[s._v("#")]),s._v(" 通过window挂载share文件夹")]),s._v(" "),t("p",[s._v("假设linux的ip地址为47.94.186.23，打开一个文件夹，在地址栏输入 //47.94.186.23  接着会提示输入用户名密码。输入该密码就ok了，像访问windows的共享文件夹一样，里面会显示wwwroot这个共享文件夹。")]),s._v(" "),t("p",[s._v("打开我的电脑，点击映射网络驱动器，输入"),t("code",[s._v("//47.94.186.23/wwwroot")]),s._v("，可以像映射windows的共享文件夹那样将其映射成一个本地磁盘。")])])}),[],!1,null,null,null);a.default=e.exports}}]);