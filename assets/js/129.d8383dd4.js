(window.webpackJsonp=window.webpackJsonp||[]).push([[129],{611:function(s,a,t){"use strict";t.r(a);var e=t(21),n=Object(e.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h3",{attrs:{id:"tab和空格缩进"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#tab和空格缩进"}},[s._v("#")]),s._v(" tab和空格缩进")]),s._v(" "),t("p",[t("a",{attrs:{href:"https://blog.csdn.net/QQ839787886/article/details/108573298",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://blog.csdn.net/QQ839787886/article/details/108573298"),t("OutboundLink")],1)]),s._v(" "),t("p",[s._v("makefile实际上是在一个文件中用两种完全不同的“语言”编写的。")]),s._v(" "),t("p",[s._v("recipe（运行编译器，echo等的命令）是用shell脚本语法编写的。")]),s._v(" "),t("p",[s._v("不在recipe中的其余makefile是用makefile语法编写的。")]),s._v(" "),t("p",[s._v("为了使make能够区分recipe和不是recipe的东西，它使用了TAB字符。因此，")]),s._v(" "),t("p",[s._v("以TAB开头的行被假定为recipe的一部分，因此它们是shell脚本并传递给shell进行解析。")]),s._v(" "),t("p",[s._v("以空格开头的行不能成为recipe的一部分，它们必须是makefile语法，用空格。")]),s._v(" "),t("p",[s._v("ifneq是makefile语法：它不能成为recipe的一部分，并且以空格开头。")]),s._v(" "),t("p",[s._v("结论：")]),s._v(" "),t("p",[s._v("1、在写makefile语法，非recipe的时候，缩进应该使用空格。")]),s._v(" "),t("p",[s._v("2、在写shell语法，recipe时，缩进使用TAB。因为实际上我们写的是希望shell执行的语句，所以使用的是shell syntax。而make识别recipe的方式就是。")]),s._v(" "),t("h3",{attrs:{id:"编译所有cpp"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#编译所有cpp"}},[s._v("#")]),s._v(" 编译所有cpp")]),s._v(" "),t("p",[s._v("https://blog.csdn.net/zong596568821xp/article/details/81134406")]),s._v(" "),t("p",[s._v("linux，假设有若干cpp和h文件在src文件夹下，下面的makefile将生成.o文件在build文件夹下，并可执行文件生成app在当前目录。")]),s._v(" "),t("div",{staticClass:"language-makefile line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-makefile"}},[t("code",[s._v("target "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" app\nsrc "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("wildcard")]),s._v(" ./src/*.cpp"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nobj "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("patsubst")]),s._v(" ./src/%.cpp, ./build/%.o, "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("src"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token target symbol"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$")]),s._v("(target)")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("obj"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\tg++ "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("obj"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" -o "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("target"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" -std"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("c++11 -pthread\n\n"),t("span",{pre:!0,attrs:{class:"token target symbol"}},[s._v("./build/%.o")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" ./src/%.cpp\n\tg++ -c "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$<")]),s._v(" -o "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$@")]),s._v(" -std"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("c++11 -pthread\n\n"),t("span",{pre:!0,attrs:{class:"token target symbol"}},[s._v("clean")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n\trm "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("obj"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("target"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br")])]),t("h3",{attrs:{id:"ifeq用法"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ifeq用法"}},[s._v("#")]),s._v(" ifeq用法")]),s._v(" "),t("div",{staticClass:"language-makefile line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-makefile"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ifndef")]),s._v(" mode\n    mode "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" release\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("endif")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ifeq")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("mode"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(", debug"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\tCFLAGS "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+=")]),s._v(" -g -O0\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("else")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ifeq")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("mode"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(", release"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\tCFLAGS "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+=")]),s._v(" -g -O0\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("else")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("error")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"error: unknown build mode!!!"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("endif")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br")])]),t("p",[s._v('注意 $(error "xxx") 不能用tab缩进，并且该语句会使make命令终止。')])])}),[],!1,null,null,null);a.default=n.exports}}]);