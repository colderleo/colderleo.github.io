(window.webpackJsonp=window.webpackJsonp||[]).push([[67],{720:function(t,s,n){"use strict";n.r(s);var e=n(16),a=Object(e.a)({},(function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v('1、mfc用CStdioFile写文件时，如果目录不存在，CStdioFile.Open会打开失败，返回值为0。\n此时代码应添加if和else，便于调试。否在会出现错误中断等许多麻烦。如下：\nif(CStdioFile.Open)\n{\n写文件；\nFile.Close();//close语句如果写在if外面会报错。\n}\nelse\n//提示打开文件失败；\n\n2、写文件时如果文件目录不存在，可以自动创建目录，例程如下：\n//创建mfc对话框工程，将下面的程序添加到dlg.cpp中的OnInitDialog()函数中\n// TODO: 在此添加额外的初始化代码\n\tCStdioFile File;//txt文件\n\tCString strFileName,strTemp1;//用于txt存储的文件名\n\n\t//创建路径\n\tCString m_FilePath;\n\tm_FilePath="C:\\\\数据\\\\";\n\tif(!PathIsDirectory(m_FilePath))\n\t\t\tCreateDirectory(m_FilePath,NULL);\n\tm_FilePath=m_FilePath+"环境数据2\\\\";\n\tif(!PathIsDirectory(m_FilePath))\n\t\t\tCreateDirectory(m_FilePath,NULL);\n\tm_FilePath=m_FilePath+"2017-01-06\\\\";\n\tif(!PathIsDirectory(m_FilePath))\n\t\t\tCreateDirectory(m_FilePath,NULL);\n\t\n\t\n\tstrFileName=m_FilePath+"tt.txt";\n\t//strFileName="C\\数据\\环境数据2\\2017-01-06tt.txt";//此句可导致弹窗。因为单斜杠\\是转义符\n\tif(File.Open(strFileName,CFile::modeCreate|CFile::modeWrite))\n\t{\n\t\tCString m_strData="wht";\n\t\tFile.WriteString(m_strData);\n\t\tFile.Close();\n\t}\n\telse\n\t{\n\t\tMessageBox("文件写入失败");//提示代码,此处可考虑非弹窗类型的提示\n\t}\n')])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br"),n("span",{staticClass:"line-number"},[t._v("5")]),n("br"),n("span",{staticClass:"line-number"},[t._v("6")]),n("br"),n("span",{staticClass:"line-number"},[t._v("7")]),n("br"),n("span",{staticClass:"line-number"},[t._v("8")]),n("br"),n("span",{staticClass:"line-number"},[t._v("9")]),n("br"),n("span",{staticClass:"line-number"},[t._v("10")]),n("br"),n("span",{staticClass:"line-number"},[t._v("11")]),n("br"),n("span",{staticClass:"line-number"},[t._v("12")]),n("br"),n("span",{staticClass:"line-number"},[t._v("13")]),n("br"),n("span",{staticClass:"line-number"},[t._v("14")]),n("br"),n("span",{staticClass:"line-number"},[t._v("15")]),n("br"),n("span",{staticClass:"line-number"},[t._v("16")]),n("br"),n("span",{staticClass:"line-number"},[t._v("17")]),n("br"),n("span",{staticClass:"line-number"},[t._v("18")]),n("br"),n("span",{staticClass:"line-number"},[t._v("19")]),n("br"),n("span",{staticClass:"line-number"},[t._v("20")]),n("br"),n("span",{staticClass:"line-number"},[t._v("21")]),n("br"),n("span",{staticClass:"line-number"},[t._v("22")]),n("br"),n("span",{staticClass:"line-number"},[t._v("23")]),n("br"),n("span",{staticClass:"line-number"},[t._v("24")]),n("br"),n("span",{staticClass:"line-number"},[t._v("25")]),n("br"),n("span",{staticClass:"line-number"},[t._v("26")]),n("br"),n("span",{staticClass:"line-number"},[t._v("27")]),n("br"),n("span",{staticClass:"line-number"},[t._v("28")]),n("br"),n("span",{staticClass:"line-number"},[t._v("29")]),n("br"),n("span",{staticClass:"line-number"},[t._v("30")]),n("br"),n("span",{staticClass:"line-number"},[t._v("31")]),n("br"),n("span",{staticClass:"line-number"},[t._v("32")]),n("br"),n("span",{staticClass:"line-number"},[t._v("33")]),n("br"),n("span",{staticClass:"line-number"},[t._v("34")]),n("br"),n("span",{staticClass:"line-number"},[t._v("35")]),n("br"),n("span",{staticClass:"line-number"},[t._v("36")]),n("br"),n("span",{staticClass:"line-number"},[t._v("37")]),n("br"),n("span",{staticClass:"line-number"},[t._v("38")]),n("br"),n("span",{staticClass:"line-number"},[t._v("39")]),n("br"),n("span",{staticClass:"line-number"},[t._v("40")]),n("br"),n("span",{staticClass:"line-number"},[t._v("41")]),n("br")])])])}),[],!1,null,null,null);s.default=a.exports}}]);